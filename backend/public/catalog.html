<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Catalog</title>
    <link rel="stylesheet" href="css/main.css">
    <link rel="stylesheet" href="css/fontawesome.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">
</head>
<body>
    <div id="wrapper">
        <div id="content">
            <header>
                <div id="logo">
                   <a href="index.html" title="To the main page">
                       <img src="img/Main_logo.ico" title="HotelBooking.com" alt="HotelBooking.com">
                       <span>HotelBooking</span>
                      </a>
                </div>
                 <div id="about">
                   <a href=""title="Read more about advertising">Advertising</a>
                    <a href=""title="Write to us">Feedback</a>
                 </div>
               <div id="reg_auth">
                     <a href=""title="Log in to the user account">
                       <div id="btn">
                          Sing In
                       </div>
                    </a>
                   <a href=""title="Register on the website">
                        <div id="btn">
                          Register
                        </div>
                      </a>
                  </div>
              </header>
              <nav>
                  <a href="">Hotels</a>
                  <a href="">Test1</a>
                  <a href="">Test2</a>
                  <a href="">Test3</a>
                  <a href="">Test4</a>
                  <div id="search">
                      <span>Search</span>
                      <i class="fas fa-search"></i>
                  </div>
              </nav>
          </div>
        <div class="sort-container">
            <span class="sort-label">Sort by</span>
            <div class="sort-buttons">
                <button class="sort-btn" onclick="sortHotels('default')">Best match</button>
                <button class="sort-btn" onclick="sortHotels('asc')">Lowest price</button>
                <button class="sort-btn" onclick="sortHotels('desc')">Highest price</button>
                <button class="sort-btn hot-deals" onclick="sortHotels('default')">Hot Deals!</button>

            </div>
        </div>
        
        <div class="card-container">
            <div class="FirstCard">
                <a href="http://localhost:3000/PanskaPoduszka.html?hotel_id=1" onclick="logHotelView(event, 1)" data-url="http://localhost:3000/PanskaPoduszka.html?hotel_id=1" class="add-to-db">
                    <img src="https://panska-57-by-homeprime-warsaw.booked.com.pl/data/Photos/OriginalPhoto/12406/1240611/1240611238/Panska-57-By-Homeprime-Warsaw-Exterior.JPEG" alt="Apartment">
                    <div class="card-content">
                        <div class="title" id="hotelName">Hotel Panska Poduszka</div>
                        <div class="location">Lviv</div>
                        <p>Безкоштовний WiFi, ідеально для довготривалого проживання.</p>
                        <div>
                        <span class="old-price">39$</span> <span class="price" id="hotelPrice">30$</span>
                        </div>
                    </div>
                </a>
            </div>
            <div class="SecondCard">
                <a href="http://localhost:3000/CentralHotelLviv.html?hotel_id=2" onclick="logHotelView(event, 2)" data-url="http://localhost:3000/CentralHotelLviv.html?hotel_id=2">
                    <img src="https://centralhotel.lviv.ua/wp-content/uploads/2023/12/ON-THE-ROOF-2-1.jpg" alt="Apartment">
                    <div class="card-content">
                        <div class="title" id="hotelName">Central hotel Lviv</div>
                        <div class="location">Lviv</div>
                        <p>Безкоштовний WiFi, ідеально для довготривалого проживання.</p>
                        <div>
                            <span class="old-price">60$</span> <span class="price" id="hotelPrice">40$</span>
                        </div>
                    </div>
                </a>
            </div>
            <div class="ThirdCard">
                <a href="http://localhost:3000/Dominicana l Apartments.html?hotel_id=3" onclick="logHotelView(event, 3)" data-url="http://localhost:3000/Dominicana l Apartments.html?hotel_id=3">
                    <img src="https://lviv-ua-79008-13.hotelmix.com.ua/data/Photos/1920x1080/6560/656091/656091372.JPEG" alt="Apartment">
                    <div class="card-content">
                        <div class="title" id="hotelName">Dominicana l Apartments</div>
                        <div class="location">Lviv</div>
                        <p>Безкоштовний WiFi, ідеально для довготривалого проживання.</p>
                        <div>
                            <span class="old-price">50$</span> <span class="price" id="hotelPrice">38$</span>
                        </div>
                    </div>
                </a>
            </div>
            <div class="FourthCard">
                <a href="http://localhost:3000/GrandHotelLvivCasino.html?hotel_id=4 "onclick="logHotelView(event, 4)" data-name="Grand Hotel" data-price="85" data-url="http://localhost:3000/GrandHotelLvivCasino.html?hotel_id=4">
                    <img src="https://cf.bstatic.com/xdata/images/hotel/max1024x768/259260775.jpg?k=120d29e1485e411dcaf89a7e239350a0d2b66ed5872a395cf16c8d22cb100775&o=&hp=1" alt="Apartment">
                    <div class="card-content">
                        <div class="title" id="hotelName">Grand Hotel Lviv Casino</div>
                        <div class="location">Lviv</div>
                        <p>Безкоштовний WiFi, ідеально для довготривалого проживання.</p>
                        <div>
                            <span class="old-price">100$</span> <span class="price" id="hotelPrice">85$</span>
                        </div>
                    </div>
                </a>
            </div>
            <div class="FifthCard">
                <a href="http://localhost:3000/OperaCenterApartHotel.html?hotel_id=5" onclick="logHotelView(event, 5)" data-url="http://localhost:3000/OperaCenterApartHotel.html?hotel_id=5">
                    <img src="https://cf.bstatic.com/xdata/images/hotel/max1024x768/250928177.jpg?k=33d33a7eeb9d4cdb3da9967a2fd6f4a89da17e3906b74589ecf9acd893479a20&o=&hp=1" alt="Apartment">
                    <div class="card-content">
                        <div class="title" id="hotelName">Opera center apart hotel</div>
                        <div class="location">Lviv</div>
                        <p>Безкоштовний WiFi, ідеально для довготривалого проживання.</p>
                        <div>
                            <span class="old-price">70$</span> <span class="price" id="hotelPrice">64$</span>
                        </div>
                    </div>
                </a>
            </div>
            <div class="SixthCard">
                <a href="http://localhost:3000/GoldenGateInn.html?hotel_id=6" onclick="logHotelView(event, 6)" data-url="http://localhost:3000/GoldenGateInn.html?hotel_id=6">
                    <img src="https://cf.bstatic.com/xdata/images/hotel/max1024x768/48968416.jpg?k=1b91326b04f1a2787672db34c8ae94fc78380ee36de0e78f2d161e3a4545b472&o=&hp=1" alt="Apartment">
                    <div class="card-content">
                        <div class="title" id="hotelName">Golden Gate Inn Hotel</div>
                        <div class="location">Kyiv</div>
                        <p>Безкоштовний WiFi, ідеально для довготривалого проживання.</p>
                        <div>
                            <span class="old-price">32$</span> <span class="price" id="hotelPrice">16$</span>
                        </div>
                    </div>
                </a>
            </div>
            <div class="SeventhCard">
                <a href="http://localhost:3000/irisHotels.html?hotel_id=7" onclick="logHotelView(event, 7)" data-url="http://localhost:3000/irisHotels.html?hotel_id=7">
                    <img src="https://cf.bstatic.com/xdata/images/hotel/max1024x768/279064417.jpg?k=7e6b414a305f5cf3547ca3be249aec57946486f18a1b9c466caafcd8340853c1&o=&hp=1" alt="Apartment">
                    <div class="card-content">
                        <div class="title" id="hotelName">IrisHotels</div>
                        <div class="location">Kyiv</div>
                        <p>Безкоштовний WiFi, ідеально для довготривалого проживання.</p>
                        <div>
                            <span class="old-price">62$</span> <span class="price" id="hotelPrice">45$</span>
                        </div>
                    </div>
                </a>
            </div>
            <div class="EighthCard">
                <a href="http://localhost:3000/MaidanPalaceHotel.html?hotel_id=8" onclick="logHotelView(event, 8)" data-url="http://localhost:3000/MaidanPalaceHotel.html?hotel_id=8">
                    <img src="https://cf.bstatic.com/xdata/images/hotel/max1024x768/625031936.jpg?k=379f559dd8367ba759e895be1853da7f9a78045244571290ea0e652fdfecdc26&o=&hp=1" alt="Apartment">
                    <div class="card-content">
                        <div class="title" id="hotelName">Maidan Palace Hotel</div>
                        <div class="location">Kyiv</div>
                        <p>Безкоштовний WiFi, ідеально для довготривалого проживання.</p>
                        <div>
                            <span class="old-price">54$</span> <span class="price" id="hotelPrice">35$</span>
                        </div>
                    </div>
                </a>
            </div>
            <div class="NinthCard">
                <a href="http://localhost:3000/InterContinentalKyiv.html?hotel_id=9" onclick="logHotelView(event, 9)" data-url="http://localhost:3000/InterContinentalKyiv.html?hotel_id=9">
                    <img src="https://cf.bstatic.com/xdata/images/hotel/max1024x768/26735646.jpg?k=ac993834b8dda4b7bb9fa87ced9b8c7adf77f8683bc2b2452f1ad9cecc6630e7&o=&hp=1" alt="Apartment">
                    <div class="card-content">
                        <div class="title" id="hotelName">InterContinental Kyiv Hotel</div>
                        <div class="location">Kyiv</div>
                        <p>Безкоштовний WiFi, ідеально для довготривалого проживання.</p>
                        <div>
                            <span class="old-price">148$</span> <span class="price" id="hotelPrice">127$</span>
                        </div>
                    </div>
                </a>
            </div>
            <div class="TenthCard">
                <a href="http://localhost:3000/HiltonKyiv.html?hotel_id=10" onclick="logHotelView(event, 10) " data-url="http://localhost:3000/HiltonKyiv.html?hotel_id=10">
                    <img src="https://www.hilton.com/im/en/KBPHIHI/3070883/night-exterior.jpg?impolicy=crop&cw=5760&ch=3225&gravity=NorthWest&xposition=0&yposition=307&rw=768&rh=430" alt="Apartment">
                    <div class="card-content">
                        <div class="title" id="hotelName">Hilton Kyiv Hotel</div>
                        <div class="location">Kyiv</div>
                        <p>Безкоштовний WiFi, ідеально для довготривалого проживання.</p>
                        <div>
                            <span class="old-price">120$</span> <span class="price" id="hotelPrice">98$</span>
                        </div>
                    </div>
                </a>
            </div>
            <div class="EleventhCard">
                <a href="http://localhost:3000/NotaBene.html?hotel_id=11" onclick="logHotelView(event, 11)" data-url="http://localhost:3000/NotaBene.html?hotel_id=11">
                    <img src="https://img.poehalisnami.ua/static/hotels/ukraine/lvov/h150011/orig/booking150011_2.jpg" alt="Apartment">
                    <div class="card-content">
                        <div class="title" id="hotelName">Nota Bene Hotel</div>
                        <div class="location">Lviv</div>
                        <p>Безкоштовний WiFi, ідеально для довготривалого проживання.</p>
                        <div>
                            <span class="old-price">80$</span> <span class="price" id="hotelPrice">72$</span>
                        </div>
                    </div>
                </a>
            </div>
            <div class="TwelfthCard">
                <a href="http://localhost:3000/LhHotel.html?hotel_id=12" onclick="logHotelView(event, 12)" data-url="http://localhost:3000/LhHotel.html?hotel_id=12">
                    <img src="https://cf.bstatic.com/xdata/images/hotel/max1024x768/477848829.jpg?k=4fa24803439fcb370f8053283a2016dde0e0890d0a13efb1544322f0bee9db3b&o=&hp=1" alt="Apartment">
                    <div class="card-content">
                        <div class="title" id="hotelName">LH Hotel</div>
                        <div class="location">Lviv</div>
                        <p>Безкоштовний WiFi, ідеально для довготривалого проживання.</p>
                        <div>
                            <span class="old-price">120$</span> <span class="price" id="hotelPrice">99$</span>
                        </div>
                    </div>
                </a>
            </div>
            <div class="ThirteenthCard">
                <a href="http://localhost:3000/BANKHOTEL.html?hotel_id=13" onclick="logHotelView(event, 13)" data-url="http://localhost:3000/BANKHOTEL.html?hotel_id=13">
                    <img src="https://cdn-media.choiceqr.com/prod-eat-bankhotel/IFFclfI-QobFpZE-oLerrRg.jpeg" alt="Apartment">
                    <div class="card-content">
                        <div class="title">BANKHOTEL</div>
                        <div class="location">Lviv</div>
                        <p>Безкоштовний WiFi, ідеально для довготривалого проживання.</p>
                        <div>
                            <span class="old-price">132$</span> <span class="price" id="hotelPrice">110$</span>
                        </div>
                    </div>
                </a>
            </div>

            <div class="FourteenthCard">
                <a href="http://localhost:3000/FairmontGrandHotel.html?hotel_id=14" onclick="logHotelView(event, 14)" data-url="http://localhost:3000/FairmontGrandHotel.html?hotel_id=14">
                    <img src="https://yeremenko.ua/catalog/hotel/4/fairmont-grand-hotel-kyiv/fairmont-grand-hotel-kyiv_28.jpg" alt="Apartment">
                    <div class="card-content">
                        <div class="title" id="hotelName">Fairmont Grand Hotel</div>
                        <div class="location">Kyiv</div>
                        <p>Безкоштовний WiFi, ідеально для довготривалого проживання.</p>
                        <div>
                            <span class="old-price">132$</span> <span class="price" id="hotelPrice">110$</span>
                        </div>
                    </div>
                </a>
            </div>
            <div class="FifteenthCard">
                <a href="http://localhost:3000/HyattRegency.html?hotel_id=15" onclick="logHotelView(event, 15)" data-url="http://localhost:3000/HyattRegency.html?hotel_id=15">
                    <img src="https://hyatt-regency-kiev-hotel.hotelmix.com.ua/data/Photos/OriginalPhoto/3562/356264/356264194/Hyatt-Regency-Kyiv-Hotel-Exterior.JPEG" alt="Apartment">
                    <div class="card-content">
                        <div class="title" id="hotelName">Hyatt Regency Hotel</div>
                        <div class="location">Kyiv</div>
                        <p>Безкоштовний WiFi, ідеально для довготривалого проживання.</p>
                        <div>
                            <span class="old-price">162$</span> <span class="price" id="hotelPrice">138$</span>
                        </div>
                    </div>
                </a>
            </div>
            <div class="SixteenthCard">
                <a href="http://localhost:3000/11MirrorsDesignHotel.html?hotel_id=16" onclick="logHotelView(event, 16)" data-url="http://localhost:3000/11MirrorsDesignHotel.html?hotel_id=16">
                    <img src="https://cf.bstatic.com/xdata/images/hotel/max1024x768/98412896.jpg?k=2ac86289f1acc1d36dd746ed318e71fab32b8f90fceaf454fb9aa1a515142df6&o=&hp=1" alt="Apartment">
                    <div class="card-content">
                        <div class="title"id="hotelName">11 Mirrors Design Hotel</div>
                        <div class="location">Kyiv</div>
                        <p>Безкоштовний WiFi, ідеально для довготривалого проживання.</p>
                        <div>
                            <span class="old-price">180$</span> <span class="price" id="hotelPrice">150$</span>
                        </div>
                    </div>
                </a>
            </div>
        </div>









        <footer>
            <div id="site_name">
                <span>HotelBooking</span> - best reservation
            </div>
            <div id="clear"></div>
            <div id="fotter_menu">
                <a href="https://www.booking.com/content/about.uk.html?aid=397594&label=gog235jc-1DCAEoggI46AdIKVgDaEiIAQGYASm4ARjIAQzYAQPoAQH4AQKIAgGoAgS4Au3lnL4GwAIB0gIkYzk5YWNhMWYtZWJjMC00ZWE0LWEyMGYtMzU2ZGY4MjkzNGI42AIE4AIB&sid=bc46583c17a7968cfdbc903a5f0a74d0" title="More about us">More about us</a>
                <a href="https://war.ukraine.ua/support-ukraine/" title="Support the project">Support the project</a>
                <a href="https://mail.google.com/mail/u/0/?tab=rm&ogbl#inbox?compose=jrjtXJSkHGhmqSjQtcbTGTkzZhmKwNZDMPhRwJcVcgCtpMNnbfVKvtMzhQZxnJcsGKPvZvjv" title="Send an email">Send an email</a>
            </div>
            <div id="rights">
                <a href="">All rights reserved &copy;2025</a>
            </div>
            <div id="social">
                <a href="t.me/HotelBookingSite" title="Telegram"><i class="fa-brands fa-telegram" id="soc"></i></a>
                <a href="https://www.facebook.com/bookingcom/?locale=uk_UA" title="Facebook"><i class="fa-brands fa-facebook"  id="soc"></i></a>
                <a href="https://x.com/bookingcom" title="Twitter"><i class="fa-brands fa-twitter  "id="soc"></i></a>
                <a href="https://www.youtube.com/@bookingcom" title="Youtube"><i class="fa-brands fa-youtube"  id="soc"></i></a>
            </div>
        </footer>
    </div>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script>
    <script>
        $(document).scroll(function() {
            if ($(document).scrollTop() > $('header').height() + 10) {
                $('nav').addClass('fixed');
            } else {
                $('nav').removeClass('fixed');
            }
        });
    </script>
    <script>
        let originalOrder = []; 
    
        $(document).ready(function() {
            originalOrder = $(".card-container > div").toArray();
        });
    
        function sortHotels(order) {
            let hotels = $(".card-container > div").toArray();
    
            if (order === "default") {
                $(".card-container").html(originalOrder); 
                return;
            }
    
            hotels.sort(function(a, b) {
                let priceA = parseFloat($(a).find(".price").text().replace("$", ""));
                let priceB = parseFloat($(b).find(".price").text().replace("$", ""));
    
                if (order === "asc") return priceA - priceB;
                if (order === "desc") return priceB - priceA;
            });
    
            $(".card-container").html(hotels);
        }
    </script>
    
    <script>
            document.addEventListener("DOMContentLoaded", function () {
        if (window.location.href.includes("catalog.html")) {
            const selectedCity = localStorage.getItem("selectedCity");

            if (selectedCity) {
                const hotelCards = document.querySelectorAll(".card-container > div");

                hotelCards.forEach(card => {
                    const locationElement = card.querySelector(".location");

                    if (locationElement) {
                        const hotelCity = locationElement.textContent.trim().toLowerCase();
                        const selectedCityLower = selectedCity.trim().toLowerCase();

                       
                        if (hotelCity === selectedCityLower) {
                            card.style.display = "block"; 
                        } else {
                            card.style.display = "none"; 
                        }
                    }
                });
            }
        }
    });
    </script>
    
    <script>
        document.addEventListener("DOMContentLoaded", function () {
            const dateInput = document.querySelector("#datePicker");
            if (dateInput) {
                flatpickr(dateInput, { enableTime: false, dateFormat: "Y-m-d" });
            }
        });

        // document.querySelectorAll(".hotel-link").forEach(link => {
        //     link.addEventListener("click", function(event) {
        //         event.preventDefault(); // Зупиняємо перехід
                
        //         const hotelName = this.getAttribute("data-name");
        //         const price = this.getAttribute("data-price");
        //         const hotelUrl = this.getAttribute("data-url");
                

        //         // Відправляємо дані у базу
        //         fetch("/book-hotel", {
        //             method: "POST",
        //             headers: { "Content-Type": "application/json" },
        //             body: JSON.stringify({ hotel_id: hotelId })
        //         })
        //         .then(response => response.json())
        //         .then(data => {
        //             console.log(data);
        //             window.location.href = hotelUrl; // Переходимо на сайт готелю
        //         })
        //         .catch(error => console.error("Помилка:", error));
        //     });
        // });
    </script>
    <script>
        const params = new URLSearchParams(window.location.search);
        
    </script>
    <script>
        function logHotelView(event, hotelId) {
            

            console.log("Відправляємо hotel_id:", hotelId); // Додаємо лог


    fetch('http://localhost:3000/log-view', {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({ hotel_id: hotelId }) // ✅ Передаємо тільки число
            })
            .then(response => response.json())
            .then(data => {
                console.log("Відповідь сервера:", data);
                window.location.href = event.target.href; // ✅ Тепер переходимо на сайт готелю
            })
            .catch(error => console.error("Помилка запиту:", error));
        }
    </script>
    <script>console.log(localStorage.getItem("selectedCity"));</script>
    <script src="script.js"></script>
</body>
</html>




